const burgerMenu=document.querySelector(".burger-menu"),list=document.querySelector(".menu-list"),aside=document.querySelector(".aside"),header=document.querySelector(".header"),galleryMenu=document.querySelector(".gallery-menu"),showMore=document.querySelector("#show-more");AOS.init({once:!0});let menuIsOpened=!1,maxLengthPhotos=6,itemIsLoading=!0,albumId="album-1";const cacheGallery={};function collapseMenu(){burgerMenu.classList.toggle("change"),list.classList.toggle("slide-down"),aside.classList.toggle("slide-right"),menuIsOpened=!menuIsOpened,header.style.backgroundColor=menuIsOpened?"white":"transparent"}function toggleGallery(e){if("gallery-menu__list"!=e.target.className)return;albumId=e.target.id;let t=document.querySelector("."+albumId),n=document.querySelectorAll(".active");n[0].classList.remove("active"),n[1].classList.remove("active"),e.target.classList.add("active"),t.classList.add("active"),showAlbum(albumId)}function showMorePhotos(){itemIsLoading||showAlbum(albumId,maxLengthPhotos=3)}document.addEventListener("DOMContentLoaded",()=>{showAlbum(albumId)}),burgerMenu.addEventListener("click",collapseMenu),galleryMenu.addEventListener("click",toggleGallery),showMore.addEventListener("click",showMorePhotos);let spinner='<div class="lds-roller"><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div></div>';const showAlbum=(e,t=6)=>{const n=document.querySelector("."+e);e=e.replace(RegExp(/\D/g),"");const l=n.childElementCount||0,i=50;let s=i*(e-1)+l;function a(e,t){t.innerHTML=`\n\t\t<div class="gallery__item-error">\n\t\t\t<div><h4>Произошла ошибка!</h4></div>\n\t\t\t<div>${e}</div>\n\t\t<div>`,t.style.border="1px solid #ff634736"}async function o(e,t){let n,l=`https://jsonplaceholder.typicode.com/photos?albumId=${e}&id=${t}`;try{if(!(n=await fetch(l)).ok)throw new Error(`Невозможно найти путь ${n.url}! <br> Код ошибки: ${n.status}`)}catch(e){return e}return await n.json()}l&&6==t||async function(t){for(let l=0;l<t;l++){if(++s%i==0)return;let t=document.createElement("div");t.className="gallery__item",t.innerHTML=spinner,itemIsLoading=!0,n.appendChild(t);const l=await o(e,s);if(!l[0])return itemIsLoading=!1,a(l,t);const{url:r,title:d,id:c}=l[0];t.innerHTML=`\n\t\t\t\t<div class="gallery-wallpaper">\n\t\t\t\t\t<img src="${r}" alt="${d} img">\n\t\t\t\t</div>\t\t\n\t\t\t\t<div class="gallery__item-info">\n\t\t\t\t\t<h4 class="gallery__item-title head-text title-column"><span>№${c} Free mockups collection </span><span>laptop and phone</span></h4>\n\t\t\t\t\t<p class="reg-text">${d.repeat(4)}</p>\n\t\t\t\t\t<span class="btn-text">Read more</span>\n\t\t\t\t</div>`}itemIsLoading=!1}(t)};